---
title: "Main R Markdown Document For NCAA Basketball Analysis"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('magrittr')
```

```{r}
# get and set working directory

# read in files
tourney_games <- read.csv("ConferenceTourneyGames.csv")
tourney_compact_results <- read.csv("NCAATourneyCompactResults.csv")
regular_season_compact_results <- read.csv("RegularSeasonCompactResults.csv")
seasons <- read.csv("Seasons.csv")
team_coaches <- read.csv("TeamCoaches.csv")
teams <- read.csv("Teams.csv")
team_conferences <- read.csv("TeamConferences.csv")
tourney_seeds <- read.csv("NCAATourneySeeds.csv")
tourney_seeds_round_slots <- read.csv("NCAATourneySeedRoundSlots")
tourney_detailed_result <- read.csv("NCAATourneyDetailedResults.csv")
regular_season_detailed_result <- read.csv("RegularSeasonDetailedResults.csv")
```

With this dataset we are trying to predict tournament winners. We will test on various years to try and obtain the most accurate results.

```{r}
# cleaning

# add

# replace team id's with team names
tourney_detailed_result[["WTeamID"]] <- teams[ match(tourney_detailed_result[['WTeamID']], teams[['TeamID']] ), 'TeamName']
tourney_detailed_result[["LTeamID"]] <- teams[ match(tourney_detailed_result[['LTeamID']], teams[['TeamID']] ), 'TeamName']

# factoring 
tourney_detailed_result %<>% mutate(Season = factor(Season),
                                    DayNum = factor(DayNum),
                                    WTeamID = factor(WTeamID),
                                    LTeamID = factor(LTeamID),
                                    NumOT = factor(NumOT))

# renaming
tourney_detailed_result %<>% rename(WTeamName = WTeamID,
                                    LTeamName = LTeamID)



```


```{r}
# summary statistics
summary(tourney_detailed_result)

# wins per team
tourney_wins_per_team <- tourney_detailed_result %>% group_by(WTeamName) %>% 
  summarize(num_wins = n()) %>%
  arrange(desc(num_wins))
head(tourney_wins_per_team)

# wins per team per season
wins_per_team_per_season <- tourney_detailed_result %>% group_by(Season) %>% 
  count(WTeamName)
head(wins_per_team_per_season)

season_winner <- tourney_detailed_result %>% group_by()

```
